---
title: 电流检测
date: 2025-07-08 16:44:01
mathjax: true
categories:
  - 硬件
  - 模电
tags:
---

# 电流检测电路

正好最近做的项目M-power中用到了，系统学习一下。


## 分流电阻法
检测电流的方法有很多种，这里我们暂时只总结分流电阻法。
把一个阻值很小的电阻串联到负载中，通过检测这个电阻上的压降就可以算出流过负载的电流，因为这个电阻小（mΩ级），所以对负载引起的影响几乎没有。

这种检测方法分为高端检测与低端检测：
![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.92qf09qkwn.webp)

* 高端检测：实际应用中大多采用的方法，因为负载接地更能够提高系统的稳定性。这个电路有致命缺点，一般的运放供电电压达不到高压，所以当高端检测时共模电压会直接击穿运放。


* 低端检测：负载的地不稳定，可能导致整个系统不稳定，所以这种接法不能使用。

下面的分析全是采用高端检测法，实际项目和工程中我们一般用的都是集成电流检测放大器。

### 仪表放大器实现电流检测

仪表放大器的输入电压范围最大不能超过其供电电源范围。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.41yca2s494.png)

我们前面知道，仪表放大器的增益通过外部电阻R<sub>G</sub>可调，并且输入电阻很大，能够较为精确检测电流，而缺点就是无法测量高压系统。

$$u_o = G\times i_{load}\times R_{sense} = 20Ω\times i_{load}$$


### 集成差动放大器实现高共模电压电流检测

集成差动放大器有1：n型的，（我们通过正接或者反接可以改变增益，放大或者衰减）使用1：n型差动放大器实施衰减，可以大幅度提高检测电流时的抗共模电压能力。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.3goonsbvem.webp)

原因分析：在仪表放大器内部结构，它的同相输入端与反向输入端都是接的一个运放（3运放型、2运放型）。而集成差动放大器中通过电阻分压后输入到运放的输入端，此时电压经过衰减已经满足运放电源电压范围。


在R<sub>SENSE</sub>很小的情况下，匹配电阻可以不加，而当R<sub>SENSE</sub>较大时要加上。

这个匹配电阻是为了匹配电阻网络（差动放大器特性），我们从V<sub>in+</sub>管脚看输入，利用戴维宁等效可得：

$$R_{MATCH} = R_{SENSE}// R_L$$

所以当我们在V<sub>in-</sub>管脚加上这个匹配电阻时，电阻网络匹配保证检测精确。

此时可得：

$$u_{OUT} = -(1+\frac{R_{EXT1}}{R_{EXT2}})\times \frac{10kΩ}{100kΩ+R_{MATCH}}\times R_{SENSE}\times i_{load}$$

有点奇怪，我们需要把电压信号先衰减再放大，最后得到的值进行检测。这中间会引入很多噪声，所以它中间加了一个电阻，引出一个脚接外部电容做低通滤波。这是AD628的核心思想。


另一个器件AD629可以实现对共模电压衰减不对差模信号衰减。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.6bhctlieap.webp)


仔细体会这个电路巧妙原理！

正向输入端分析可得，电压衰减20倍，由虚短虚断可知，反向输入端电压电压电压等于13.5V。即共模信号被衰减20倍。


使用叠加原理进行分析：

当R<sub>SENSE</sub>远小于380KΩ，匹配电阻忽略不计。

当只有U<sub>+</sub>输入时：

$$u_{out+} = u_+\times \frac{20K}{380K+20K}\times (1+\frac{380K}{21.1K//380K})= u_+$$


当只有U<sub>-</sub>输入时很容易得：

$$u_{out-} = -u_-$$

所以输出信号：
$$u_o = u_{out+}+u_{out-} = u_+-u_- = i_{load}\times R_{sense}$$

仿真分析

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.6ikkq1bl5q.webp)

负载电流为10A时

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.essnlbsod.webp)

实在妙哉！！这个R<sub>x</sub>电阻妙不可言。



### 用普通运放实现高共模电压的电流检测

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.2dozdznx2x.webp)


这个电路用到了两个运放，检测电路的供电是0V和5V，检测电阻则是检测-48V下的电流。

首先第一个运放供电电压是利用稳压二极管方案解决。选择稳压管时有两个参数需要注意，一个是击穿电压（稳压电压），另一个是击穿电流（限制功率）。为保证运放正常工作，需要提供一定电流。

接下来分析反馈环路，判断是否为负反馈，我们可以看到第一个运放的输出端接MOS管门极，再由源极输出接回反向输入端，很容易判断是负反馈。（MOS管是源极跟随器）

利用虚短虚断可得：

$$I_{load}\times R_{sense} =I_1\times R_2 $$

即R2两端压降与R<sub>SENSE</sub>两端压降相同。

 再看第二个运放的负反馈，很容易得出：

 $$v_{out} = I_1\times R_4 = I_{load}\times \frac{R_{SENSE}}{R_2}\times R_4 = 100V_{SENSE}$$


C<sub>1</sub>的作用是运放电源滤波。
C<sub>2</sub>作用是提高电路稳定性，因为场效应管门极有开启时间，这个电容的作用是让这电压快速达到开启电压。
C3作用是滤波。














