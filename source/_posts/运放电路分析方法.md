---
title: 运放电路分析方法
date: 2025-06-05 20:28:11
mathjax: true
categories:
  - 硬件
  - 模电
tags:
---

# 运放电路分析方法

## 虚短虚断法

### 示例1：T型反馈比例器

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.491it7hja3.webp)

利用虚短虚断法（如字面意思，无电流流入，输入两端电压相等）可解得：
$$ u\_O = u\_A - i\_3 R\_3 = -\frac{u\_I}{R\_1} R\_2 - \frac{u\_I}{R\_1} \left(1 + \frac{R\_2}{R\_{\mathrm{SET}}}\right) R\_3 = -\frac{u\_I}{R\_1} \left( R\_2 + R\_3 + \frac{R\_2 R\_3}{R\_{\mathrm{SET}}} \right) $$

假设把R1=R2=R3=100KΩ，R<sub>SET</sub> = 1KΩ，带入上式可解得u<sub>o</sub> = -102u<sub>i</sub>

在tina中仿真得到

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8hgq31faiq.webp)

这个电路优点在于通过改变Rset就可以得到大的增益，而使用基本的反向比例放大电路，当增益越大时所需电阻就越大，大电阻会引入噪声和成本。


### 示例2：加法器

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.9dd7iinz2r.webp)


* 同相加法器

    使用叠加原理求U<sub>+</sub>的电压，可以发现电路就简化成最一开始学的同相比例放大电路。

    $$u_o = (1+\frac{R_F}{R_G}) \times u_+$$


* 反相加法器

    $$u_{O} = -\left( \frac{R_{G}}{R_{1}} u_{I1} + \frac{R_{G}}{R_{2}} u_{I2} + \frac{R_{G}}{R_{3}} u_{I3} \right) $$




### 示例3 ：减法器


![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.4cl4rzli56.png)


使用虚短虚断分析电路可解得：
$$u_O = \frac{R_B}{R_A} (u_2 - u_1)$$

缺点
* 输入电阻较小
* 增益调节需要两个电阻同时变化
* 对电阻的一致性要求很高。在实际应用中，要保证上下两路$ \frac {R_B}{R_A}$相等，对电阻精度要求很高。

基于此，许多运放厂家生产了集成差动放大器，解决了第三个问题。


当基准源不为0时
![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.4g4qppz2uj.webp)


利用叠加原理

* 仅有u1输入时：
    $$u_{o1} = -\frac {R_B}{R_A} u_1$$

* 仅有u2输入时：
    $$u_+ =\frac {R_B}{(R_A+R_B)}\times u_2$$

    $$ u_o = (1+\frac {R_B}{R_A})u_+$$


* 当仅有VREF输入时，与仅有u2输入类似：
    $$u_+ =\frac {R_A}{(R_A+R_B)}\times V_{ref}$$

    $$ u_o = (1+\frac {R_B}{R_A})u_+$$


最后得：
$$u_o = u_{o1} + u_{o2} + V_{ref} = (u_1-u_2)\frac{R_B}{R_A}+V_{ref}$$

这个电路在实际应用中十分重要！！！！

下面对书中AD8275实现的电平移位电路进行仿真

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8ojy0poyqj.webp)

左图下面电路使用戴维宁等效，等效电路等于右图。而右图这个电路就是上面讲的三输入减法器。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.2yylp54nd2.webp)


可以看到输入信号-10V-10V变为0-4V范围变化，即实现了衰减且移位。




### 例4：三运放仪表放大器

由减法器缺点1改善而来的器件，它具有两个高输入电阻的差动输入端，输出为两个输入端电位差的指定增益倍数。它的输入输出关系，与减法器相同，均为：
    $$u_O = G \times (u_+ - u_-)$$


![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8vn5w5sjys.webp)

此电路增益表达式为：
$$G = \frac{R_3}{R_2} \times \frac{R_G + 2R_1}{R_G}$$

* 它的输入端是高阻，即输入电阻接近无穷大

* 它的增益通常是一个电阻调节

* 彻底解决了减法器的三个缺点

整体表达式：
$$u_o  = (u_2-u1)(1+\frac{2R}{R_G})\frac{R_3}{R2} +V_{REF}$$


### 例5：双运放仪表放大器

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.2yymqlt9z6.webp)

推导十分复杂，有两种方法 1.叠加原理 2.直接推导（利用KVL,KCL）

这里只给出输入输出表达式：

$$u_{OUT} = V_{REF}+(u_2-u_1)(1+\frac{R_1}{R_2}+\frac{R_1}{R_G})$$



### 例6：压流转换器（恒流源）

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8l0d4hcmt3.webp)

左图RL在电源端接法：
$$i_{\text{OUT}} = i_{\text{SET}} \frac{\beta}{1 + \beta} = \frac{\beta}{1 + \beta} \times \frac{u_{I}}{R_{\text{SET}}} \approx \frac{u_{I}}{R_{\text{SET}}}$$


右图RL可以接地：

$$i_{\text{OUT}} = i_{\text{SET}} \frac{\beta}{1 + \beta} = \frac{\beta}{1 + \beta} \times \frac{E_C-u_I}{R_{\text{SET}}} \approx \frac{E_C-u_I}{R_{\text{SET}}}$$

缺点：
1. 电压与电流时反向的，当设定电压增加时，电流减少，不符合常识操作

2. 受电源纹波影响较大


### 例7：Howland电流源

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8hgr6t1eff.webp)

这个经典电路解决上面电流源的缺点。

当不接入负载电阻的时候可以看出电路的正反馈系数，与负反馈系数完全相同：

$$F_+=F_- = \frac{R_1}{R_1+R_2}$$

当接入负载电阻时，$F_+ = \frac{R_1//R_L}{R_1//R_L+R_2}$，显然比负反馈系数小，所以电路最终工作在负反馈状态，可用虚短虚断分析。


最终可得：
$$I_{OUT} = \frac{U_X}{R_L} = \frac{U_{IN}}{R_1}$$

缺点：

1. 对元件匹配精度要求极高（类比减法器的电阻网络）
2. 使用集成差动运放无法接成，因为一般这个管脚不引出
3. 无法输出大电流，运放输出电流有限


### 例8： 利用集成差动放大器实现的压流变换器

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.361umbysxk.webp)

这个电路是howland电流源改进，可以使用集成差动放大器接成。这个电路也有个一个弊端，R1需要匹配，这也很不好。

推导原理首先判断负反馈成立，然后使用虚短虚断求解：

$$I_{out} = I_1+I_2 = \frac{U_{IN1}-U_{IN2}}{R||R_1}$$


再次进行改进

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.3goofiq25q.webp)

输出表达式：
$$I_{out} = I_1+I_2 = \frac{U_{IN1}-U_{IN2}}{R_1}$$
这个电路仅需要一个R1，这个电路也有缺点引入的这个运放会导致高频性能下降。



大电流扩流

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8s3l08hll6.webp)

引入的这个管子对运放电路分析没有影响，把电源里的电流引入扩大负载电流。

### 例9：使用集成仪表放大器实现压流转换器

当需要输入电阻很大时，我们可以利用仪表放大器特点（高输入阻抗），采用集成仪表放大器实现压流转换。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.3k8ada99di.webp)

AD620输出表达式为：
$$G = \frac{49.4kΩ}{R_G}+1$$

$$V_6= V_5+G(V_{IN+}-V_{IN-})$$

在利用AD705射极跟随器虚短虚断可得：


$$I_L = \frac{V_6 - V_5}{R_1} = \frac{G(V_{IN+}- V_{{IN}}-)}{R_1}$$


注意：此电路不能使用扩流思想



### 例12 光电放大器

电路图：
![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.73u89t251b.webp)


图中的运放为单电源供电，左边的光电二极管作用是把外部的光强转化成电流信号。BF862是一个JFET，U<sub>GS(OFF)</sub> = -0.8V，I<sub>DSS</sub> = 10mA，求出电压与流过光电二极管电流的关系。


分析步骤：
1. 判断静态与电源供电，由于现在是单电源供电，供电电压5V，所以运放正常工作电压范围是0~5V，我们选择一个合适的静态点就是2.5V，处于中心位置。所以，运放同相输入端，5V电源经过两个电阻分压电位为2.5V，并联的这个电容是滤波作用。

2. 反馈极性判断， 输出电压V<sub>OUT</sub>经过反馈电阻到源极跟随器的门极，由前面的知识可知，G、S两端电压极性相同，S极接反相输入端，所以这个反馈是负反馈（F<1,AF>1），满足虚短虚断条件。

3. 利用虚短虚断可知，S极电压约为2.5V，所以I<sub>S</sub> = 2.5mA。由JFET伏安转移特性公式可以算出U<sub>GS</sub>，即可得G电电位为2V。


4. 光电二极管伏安特性曲线

    ![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.7lk9yf45x7.webp)

    我们在这个电路中使用二极管反向伏安特性，当没有光照的时候会有暗电流，数量级pA~nA。

    由于JEFT的GS极之间阻抗很大，几乎没有电流流入，所以光电二极管产生的电流全部来自R<sub>F</sub>可得:

    $$V_{OUT} = 2V +I_{PD} \times R_F$$

仿真结果

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.6ikknk6ikw.webp)


当光电二极管电流为1uA正弦波，根据计算公式可得V<sub>OUT</sub> = 2±0.1V

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.7axg5apfz4.webp)

## 大运放法

一些看似十分复杂的电路，如果能将其分解为一个多级高增益放大电路和反馈网络的集合，可以将其中的多级高增益放大电路，用一个大运放代替。


### 例1 串联复合型放大电路

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8vn77n7leh.webp)


我们只看输入端与输出端可以把上面这个电路等效为下图

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.491k6ydoof.webp)

这是一个经典同相比例器，增益为100倍。


我们再看这个大运放内部，AD8603的输出端接到第二个运放的同相输入端，这个运放的接法也是100倍同相放大。所以大运放内部第二个运放的作用是将AD8603的开环增益增加100倍。


为什么要这样做？这样做是为了拓宽AD8603的频带，因为AD8603的输入特性很好，但是缺点是带宽比较窄，开环增益增加100倍，相当于幅频特性向上平移40db（dB单位）。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.esso05c8o.webp)

### 测量运放开环增益

我们知道一个运放的开环增益很大，输入只要有一个很小的直流量（失调电压），输出必定被憋死。那我们如何测得这个开环增益呢？一般来说我们去搜这个运放的芯片手册，手册上有写这个开环增益。我们想在仿真软件中测得，使用下面的方法。

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.4ub7tkexo4.webp)

这个电路测量思想也很巧妙，我们已经知道运放的这个特性，想在测开环增益时不放大输入端的直流量，使用一个大电感连接输出端与反向输入，即通过负反馈作用让运放的输入电压即失调电压等于输出电压，输出的直流电位被限制。而在测交流电压时我们需要让运放开环增益施加在这个交流量上。图中电容和电感的作用刚好满足我们的需求，即大电感阻交流通直流，大电容通交流阻直流。

通过示波器可以看出
![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.45hy9jqaw1.webp)

VF4端有10uV的失调电压，VF2端也有10uV的失调电压（直流偏移量），并且输出没有憋死。输入电压为1uV正弦波，输出约为25mV正弦波。

幅频特性

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.5q7p90upzh.webp)

下面的线即是OPA277的开环增益图，可以看到在1MHZ时增益为0。上面的曲线则是左边增加一个运放扩展频带后的增益曲线，可以看到带宽被拓展。


注意：此拓展带宽的方法实际中极不稳定！！！！！！！！！！

### 例2 多级含负反馈BJT放大电路


![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.wiuclcknl.webp)

这个电路十分复杂，如果我们使用前面晶体管章节的知识来解电路的静态、动态，能给人算死+累死，所以换种方法分析就能简化。



我们先把反馈环路去掉不看，这个电路为三级放大电路，第一、三级电路为共射级放大电路，第二级是共集电极放大电路。信号加载第一个管子的B、E极之间，所以我们就把A点和B点（反馈环路正好也接回这个点）看做运放的+、-端。


电容在信号频率较大时看做短接，使用环路极性法能够分析A点引起的正变化，经过多级放大电路输出也为正变化，同理B点的正变化引起输出负变化，所以前面A、B为+、-端假设没错。

接着我们加入反馈环路，可把电路简化为：
![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.3nrwkoccrq.webp)


增益可以求得：

$$A_{uf} = 1 + \frac {R_F}{R_{E1B}}$$


我们想一下虚短虚断是否成立？

虚短：我们一般分析闭环增益考虑不是静态值，而是动态的信号。当动态时，A点电压变化量与B点变化量大小差不多。

虚断：流入A端电流很小，我们只用看$i_1$是否远大于$i_3$就行，因为输出端电压$u_{o3}$远大于$u_{o1}$，R<sub>F</sub>与<sub>C1</sub>属于同一数量级，$i_1$是远大于$i_3$的。


仿真结果

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.92qf357h7g.webp)


输出放大100倍

![image](https://github.com/maxiro-samurai/picx-images-hosting/raw/master/image.8vn77pogqn.webp)



